(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{6840:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(9645)}])},5770:function(t,e,n){"use strict";n.d(e,{H:function(){return o},a:function(){return u}});var r=n(5893),a=n(7294);let i=(0,a.createContext)(void 0),u=()=>{let t=(0,a.useContext)(i);if(!t)throw Error("useAuth must be used within an AuthProvider");return t},o=t=>{let{children:e}=t,[n,u]=(0,a.useState)(null),[o,s]=(0,a.useState)(!0);(0,a.useEffect)(()=>{c()},[]);let c=async()=>{try{let t=await fetch("/api/auth/me");if(t.ok){let e=await t.json();u(e.user)}}catch(t){console.error("Auth check error:",t)}finally{s(!1)}},l=async(t,e)=>{let n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})});if(!n.ok)throw Error((await n.json()).message||"Login failed");u((await n.json()).user)},f=async()=>{await fetch("/api/auth/logout",{method:"POST"}),u(null)};return(0,r.jsx)(i.Provider,{value:{user:n,loading:o,login:l,logout:f},children:e})}},7934:function(t,e,n){"use strict";n.d(e,{F:function(){return o},e:function(){return u}});var r=n(5893),a=n(7294);let i=(0,a.createContext)(void 0),u=()=>{let t=(0,a.useContext)(i);if(!t)throw Error("useData must be used within a DataProvider");return t},o=t=>{let{children:e}=t,[n,u]=(0,a.useState)([]),[o,s]=(0,a.useState)([]),[c,l]=(0,a.useState)([]),[f,h]=(0,a.useState)([]),[d,w]=(0,a.useState)(!0),p=async()=>{w(!0);try{let t=await fetch("/api/blogs");if(t.ok){let e=await t.json();s(e)}let e=await fetch("/api/events");if(e.ok){let t=await e.json();l(t)}let n=await fetch("/api/gallery");if(n.ok){let t=await n.json();h(t)}u([])}catch(t){console.error("Error fetching data:",t)}finally{w(!1)}};return(0,a.useEffect)(()=>{p()},[]),(0,r.jsx)(i.Provider,{value:{contentSections:n,blogPosts:o,events:c,gallery:f,loading:d,refreshData:p},children:e})}},9645:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=n(5893),a=n(5770),i=n(7934);function u(t){let{Component:e,pageProps:n}=t;return(0,r.jsx)(a.H,{children:(0,r.jsx)(i.F,{children:(0,r.jsx)(e,{...n})})})}n(3434)},3434:function(){}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[9774,179],function(){return e(6840),e(3079)}),_N_E=t.O()}]);