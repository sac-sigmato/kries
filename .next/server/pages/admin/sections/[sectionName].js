"use strict";(()=>{var e={};e.id=8650,e.ids=[8650],e.modules={1687:(e,t,i)=>{i.r(t),i.d(t,{config:()=>S,default:()=>j,getServerSideProps:()=>_,getStaticPaths:()=>N,getStaticProps:()=>w,reportWebVitals:()=>k,routeModule:()=>A,unstable_getServerProps:()=>E,unstable_getServerSideProps:()=>L,unstable_getStaticParams:()=>T,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>C});var s={};i.r(s),i.d(s,{default:()=>y});var r=i(7093),a=i(5244),l=i(1323),n=i(7645),o=i(6814),c=i(997),d=i(6689),u=i(1163),m=i(775),g=i(5875),p=i(3980),h=i(5809),x=i(1664),b=i.n(x);let f=({sectionName:e})=>{let t=(0,u.useRouter)(),[i,s]=(0,d.useState)(!0),[r,a]=(0,d.useState)(!1),[l,n]=(0,d.useState)(!1),[o,m]=(0,d.useState)({section_name:e||"",title:"",content:"",image_url:"",button_text:"",button_url:"",order_index:0,is_active:!0}),[x,f]=(0,d.useState)([]),[v,y]=(0,d.useState)({title:"",subtitle:"",description:"",image_url:"",button_text:"",button_url:"",order_index:0,is_active:!0});(0,d.useEffect)(()=>{e&&("slider"===e?(n(!0),w()):j())},[e]);let j=async()=>{try{s(!0);let t=await fetch("/api/home-sections");if(t.ok){let i=await t.json(),s=i.find(t=>t.section_name===e);s?m(s):m(e=>({...e,order_index:i.length+1}))}}catch(e){console.error("Error fetching section data:",e)}finally{s(!1)}},w=async()=>{try{s(!0);let e=await fetch("/api/home-slider");if(e.ok){let t=await e.json();f(t),y(e=>({...e,order_index:t.length+1}))}}catch(e){console.error("Error fetching slider data:",e)}finally{s(!1)}},N=async()=>{try{a(!0);let e=o._id?"PUT":"POST";(await fetch("/api/home-sections",{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok&&t.push("/admin/home")}catch(e){console.error("Error saving section:",e)}finally{a(!1)}},_=async()=>{try{a(!0),(await fetch("/api/home-slider",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).ok&&(y({title:"",subtitle:"",description:"",image_url:"",button_text:"",button_url:"",order_index:x.length+1,is_active:!0}),await w())}catch(e){console.error("Error adding slider item:",e)}finally{a(!1)}},S=async e=>{if(confirm("Are you sure you want to delete this slider item?"))try{(await fetch(`/api/home-slider?id=${e}`,{method:"DELETE"})).ok&&await w()}catch(e){console.error("Error deleting slider item:",e)}},k={hero_section:{label:"Hero Section",description:"Main banner with background image and call-to-action",fields:["title","content","image_url","button_text","button_url"],preview:"Large banner with title, description, and button overlay on background image"},about_preview:{label:"About Preview",description:"Two-column layout with image and content",fields:["title","content","image_url","button_text","button_url"],preview:"Left: Image, Right: Title, content text, and optional button"},programs_highlight:{label:"Programs Highlight",description:"Featured programs section with cards",fields:["title","content"],preview:"Title, description, then 3-column grid of program cards with images"},leadership:{label:"Leadership Team",description:"Leadership profiles with circular images",fields:["title","content"],preview:"Title, description, then row of circular profile images with names"},achievements:{label:"Statistics & Achievements",description:"Statistics section with numbers and icons",fields:["title","content"],preview:"Title, description, then 4-column grid of number counters with icons"},testimonials:{label:"Student Testimonials",description:"Student success stories and reviews",fields:["title","content"],preview:"Title, description, then 3-column grid of quote cards with student photos"},facilities:{label:"Campus Facilities",description:"Campus facilities with image gallery",fields:["title","content"],preview:"Title, description, then 3-column grid of facility images with hover effects"},news_events:{label:"News & Events",description:"Latest news and upcoming events",fields:["title","content"],preview:"Title, description, then 2-column layout: Latest News | Upcoming Events"},contact_section:{label:"Contact Section",description:"Contact information and form",fields:["title","content","button_text","button_url"],preview:"Left: Title, content, contact info, button. Right: Contact form"},school_facility:{label:"School Facility",description:"Infrastructure, laboratories, hostel & canteen, playground",fields:["title","content"],preview:"Four-column grid: Infrastructure, Laboratories, Hostel & Canteen, Playground with icons and descriptions"},achievements_activities:{label:"Achievements & Activities",description:"Student achievements, academic results, sports, cultural activities",fields:["title","content"],preview:"Achievement statistics, activity categories in cards, and success stories highlight"},slider:{label:"Hero Slider",description:"Main homepage slider with multiple slides",fields:["title","subtitle","description","image_url","button_text","button_url"],preview:"Full-screen background images with overlay text and navigation dots"}}[e];return i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):k?(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[c.jsx("div",{className:"flex items-center space-x-4 mb-2",children:(0,c.jsxs)(b(),{href:"/admin/home",className:"text-blue-600 hover:text-blue-800 flex items-center",children:[c.jsx(g.Z,{className:"h-4 w-4 mr-1"}),"Back to Home Management"]})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:k.label}),c.jsx("p",{className:"text-gray-600 mt-1",children:k.description}),c.jsx("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:(0,c.jsxs)("p",{className:"text-sm text-blue-800",children:[c.jsx(p.Z,{className:"h-4 w-4 inline mr-1"}),c.jsx("strong",{children:"Preview:"})," ",k.preview]})})]}),!l&&(0,c.jsxs)("button",{onClick:N,disabled:r,className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center disabled:opacity-50",children:[c.jsx(h.Z,{className:"h-4 w-4 mr-2"}),r?"Saving...":"Save Changes"]})]}),l?(0,c.jsxs)("div",{className:"space-y-8",children:[(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Add New Slide"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),c.jsx("input",{type:"text",value:v.title,onChange:e=>y({...v,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter slide title"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle"}),c.jsx("input",{type:"text",value:v.subtitle,onChange:e=>y({...v,subtitle:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter subtitle (optional)"})]}),(0,c.jsxs)("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),c.jsx("textarea",{value:v.description,onChange:e=>y({...v,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter slide description"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Image URL *"}),c.jsx("input",{type:"url",value:v.image_url,onChange:e=>y({...v,image_url:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text"}),c.jsx("input",{type:"text",value:v.button_text,onChange:e=>y({...v,button_text:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Learn More"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button URL"}),c.jsx("input",{type:"text",value:v.button_url,onChange:e=>y({...v,button_url:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"/about"})]})]}),(0,c.jsxs)("div",{className:"flex items-center mt-4",children:[c.jsx("input",{type:"checkbox",id:"new-slider-active",checked:v.is_active,onChange:e=>y({...v,is_active:e.target.checked}),className:"mr-2"}),c.jsx("label",{htmlFor:"new-slider-active",className:"text-sm font-medium text-gray-700",children:"Active"})]}),c.jsx("button",{onClick:_,disabled:r||!v.title||!v.description||!v.image_url,className:"mt-6 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:r?"Adding...":"Add Slide"})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Existing Slides"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(e=>(0,c.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[c.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-32 object-cover"}),(0,c.jsxs)("div",{className:"p-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:e.title}),c.jsx("span",{className:`px-2 py-1 text-xs rounded ${e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.is_active?"Active":"Inactive"})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),c.jsx("button",{onClick:()=>S(e._id),className:"w-full bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 transition-colors",children:"Delete"})]})]},e._id))})]})]}):c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title *"}),c.jsx("input",{type:"text",value:o.title,onChange:e=>m({...o,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter section title"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),c.jsx("textarea",{value:o.content,onChange:e=>m({...o,content:e.target.value}),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter section content"})]}),k.fields.includes("image_url")&&(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),c.jsx("input",{type:"url",value:o.image_url,onChange:e=>m({...o,image_url:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"}),o.image_url&&c.jsx("img",{src:o.image_url,alt:"Preview",className:"mt-2 w-32 h-20 object-cover rounded"})]}),k.fields.includes("button_text")&&(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text"}),c.jsx("input",{type:"text",value:o.button_text,onChange:e=>m({...o,button_text:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Learn More"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button URL"}),c.jsx("input",{type:"text",value:o.button_url,onChange:e=>m({...o,button_url:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"/about"})]})]}),(0,c.jsxs)("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"section-active",checked:o.is_active,onChange:e=>m({...o,is_active:e.target.checked}),className:"mr-2"}),c.jsx("label",{htmlFor:"section-active",className:"text-sm font-medium text-gray-700",children:"Section is active (visible on homepage)"})]})]})})]}):(0,c.jsxs)("div",{className:"text-center py-12",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Section Not Found"}),c.jsx(b(),{href:"/admin/home",className:"text-blue-600 hover:text-blue-800",children:"← Back to Home Management"})]})};var v=i(5993);function y(){let{sectionName:e}=(0,u.useRouter)().query;return c.jsx(v.Z,{children:c.jsx(m.Z,{children:c.jsx(f,{sectionName:e})})})}let j=(0,l.l)(s,"default"),w=(0,l.l)(s,"getStaticProps"),N=(0,l.l)(s,"getStaticPaths"),_=(0,l.l)(s,"getServerSideProps"),S=(0,l.l)(s,"config"),k=(0,l.l)(s,"reportWebVitals"),C=(0,l.l)(s,"unstable_getStaticProps"),P=(0,l.l)(s,"unstable_getStaticPaths"),T=(0,l.l)(s,"unstable_getStaticParams"),E=(0,l.l)(s,"unstable_getServerProps"),L=(0,l.l)(s,"unstable_getServerSideProps"),A=new r.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/admin/sections/[sectionName]",pathname:"/admin/sections/[sectionName]",bundlePath:"",filename:""},components:{App:o.default,Document:n.default},userland:s})},5875:(e,t,i)=>{i.d(t,{Z:()=>s});let s=(0,i(4370).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3980:(e,t,i)=>{i.d(t,{Z:()=>s});let s=(0,i(4370).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5809:(e,t,i)=>{i.d(t,{Z:()=>s});let s=(0,i(4370).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),s=t.X(0,[6859,9891,468,5741],()=>i(1687));module.exports=s})();