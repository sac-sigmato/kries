"use strict";(()=>{var e={};e.id=4067,e.ids=[4067],e.modules={7328:(e,a,t)=>{t.r(a),t.d(a,{config:()=>w,default:()=>v,getServerSideProps:()=>k,getStaticPaths:()=>N,getStaticProps:()=>j,reportWebVitals:()=>S,routeModule:()=>Z,unstable_getServerProps:()=>_,unstable_getServerSideProps:()=>M,unstable_getStaticParams:()=>q,unstable_getStaticPaths:()=>C,unstable_getStaticProps:()=>P});var r={};t.r(r),t.d(r,{default:()=>y});var s=t(7093),l=t(5244),i=t(1323),n=t(7645),c=t(6814),d=t(997),o=t(6689),u=t(775),m=t(1163),p=t(5875),x=t(5809),g=t(8453),b=t(5451);let h=()=>{let e=(0,m.useRouter)(),{id:a}=e.query,[t,r]=(0,o.useState)(!0),[s,l]=(0,o.useState)(!1),[i,n]=(0,o.useState)({name:"",position:"",department:"administration",qualification:"",experience:"",specialization:"",image_url:"",email:"",phone:"",achievements:[],bio:"",order_index:0,is_active:!0}),[c,u]=(0,o.useState)("");(0,o.useEffect)(()=>{a&&"new"!==a?h(a):r(!1)},[a]);let h=async e=>{try{r(!0);let a=await fetch(`/api/faculty?id=${e}`);if(a.ok){let e=await a.json();n(e)}}catch(e){console.error("Error fetching faculty member:",e)}finally{r(!1)}},f=async t=>{t.preventDefault();try{l(!0);let t=a&&"new"!==a?"PUT":"POST",r=a&&"new"!==a?`/api/faculty?id=${a}`:"/api/faculty";(await fetch(r,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok&&e.push("/admin/cms/faculty")}catch(e){console.error("Error saving faculty member:",e)}finally{l(!1)}},y=e=>{let a=[...i.achievements];a.splice(e,1),n({...i,achievements:a})};return t?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[d.jsx("div",{className:"flex items-center space-x-4 mb-2",children:(0,d.jsxs)("button",{onClick:()=>e.push("/admin/cms/faculty"),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[d.jsx(p.Z,{className:"h-4 w-4 mr-1"}),"Back to Faculty List"]})}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a&&"new"!==a?"Edit Faculty Member":"Add New Faculty Member"})]}),(0,d.jsxs)("button",{onClick:f,disabled:s,className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center disabled:opacity-50",children:[d.jsx(x.Z,{className:"h-4 w-4 mr-2"}),s?"Saving...":"Save"]})]}),(0,d.jsxs)("form",{onSubmit:f,className:"bg-white rounded-lg shadow-md p-6 space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),d.jsx("input",{type:"text",value:i.name,onChange:e=>n({...i,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,d.jsxs)("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position *"}),d.jsx("input",{type:"text",value:i.position,onChange:e=>n({...i,position:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department *"}),d.jsx("select",{value:i.department,onChange:e=>n({...i,department:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[{id:"administration",name:"Administration"},{id:"academics",name:"Academic Affairs"},{id:"science",name:"Science & Mathematics"},{id:"languages",name:"Languages"},{id:"social",name:"Social Sciences"},{id:"arts",name:"Arts & Culture"},{id:"sports",name:"Physical Education"},{id:"counseling",name:"Student Counseling"}].map(e=>d.jsx("option",{value:e.id,children:e.name},e.id))})]}),(0,d.jsxs)("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience *"}),d.jsx("input",{type:"text",value:i.experience,onChange:e=>n({...i,experience:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 15 years",required:!0})]})]}),(0,d.jsxs)("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Qualification *"}),d.jsx("input",{type:"text",value:i.qualification,onChange:e=>n({...i,qualification:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Ph.D. in Education, M.Sc. Mathematics",required:!0})]}),(0,d.jsxs)("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialization *"}),d.jsx("input",{type:"text",value:i.specialization,onChange:e=>n({...i,specialization:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Educational Leadership, Mathematics Education",required:!0})]}),(0,d.jsxs)("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),d.jsx("textarea",{value:i.bio||"",onChange:e=>n({...i,bio:e.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief biography of the faculty member"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsx("input",{type:"email",value:i.email||"",onChange:e=>n({...i,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@example.com"})]}),(0,d.jsxs)("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),d.jsx("input",{type:"text",value:i.phone||"",onChange:e=>n({...i,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+91 1234567890"})]})]}),(0,d.jsxs)("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),d.jsx("input",{type:"url",value:i.image_url||"",onChange:e=>n({...i,image_url:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"})]}),(0,d.jsxs)("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Achievements"}),(0,d.jsxs)("div",{className:"flex space-x-2 mb-2",children:[d.jsx("input",{type:"text",value:c,onChange:e=>u(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add an achievement"}),d.jsx("button",{type:"button",onClick:()=>{c.trim()&&(n({...i,achievements:[...i.achievements,c.trim()]}),u(""))},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:d.jsx(g.Z,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"space-y-2 mt-3",children:i.achievements.map((e,a)=>(0,d.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[d.jsx("span",{children:e}),d.jsx("button",{type:"button",onClick:()=>y(a),className:"text-red-600 hover:text-red-800",children:d.jsx(b.Z,{className:"h-4 w-4"})})]},a))})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),d.jsx("input",{type:"number",value:i.order_index,onChange:e=>n({...i,order_index:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),d.jsx("div",{className:"flex items-end",children:(0,d.jsxs)("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:i.is_active,onChange:e=>n({...i,is_active:e.target.checked}),className:"mr-2"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active (visible on website)"})]})})]})]})]})};var f=t(5993);function y(){return d.jsx(f.Z,{children:d.jsx(u.Z,{children:d.jsx(h,{})})})}let v=(0,i.l)(r,"default"),j=(0,i.l)(r,"getStaticProps"),N=(0,i.l)(r,"getStaticPaths"),k=(0,i.l)(r,"getServerSideProps"),w=(0,i.l)(r,"config"),S=(0,i.l)(r,"reportWebVitals"),P=(0,i.l)(r,"unstable_getStaticProps"),C=(0,i.l)(r,"unstable_getStaticPaths"),q=(0,i.l)(r,"unstable_getStaticParams"),_=(0,i.l)(r,"unstable_getServerProps"),M=(0,i.l)(r,"unstable_getServerSideProps"),Z=new s.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/admin/cms/faculty/[id]",pathname:"/admin/cms/faculty/[id]",bundlePath:"",filename:""},components:{App:c.default,Document:n.default},userland:r})},5875:(e,a,t)=>{t.d(a,{Z:()=>r});let r=(0,t(4370).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8453:(e,a,t)=>{t.d(a,{Z:()=>r});let r=(0,t(4370).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5809:(e,a,t)=>{t.d(a,{Z:()=>r});let r=(0,t(4370).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},5451:(e,a,t)=>{t.d(a,{Z:()=>r});let r=(0,t(4370).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[6859,9891,468,5741],()=>t(7328));module.exports=r})();